services:
  plugin.manager.install_tasks:
    class: Drupal\sdss_profile\InstallTaskManager
    parent: default_plugin_manager
  sdss_profile.event_subscriber:
    class: '\Drupal\sdss_profile\EventSubscriber\EventSubscriber'
    arguments: ['@file_system', '@http_client', '@logger.factory', '@messenger']
    tags:
      - { name: 'event_subscriber' }
  sdss_profile.config_overrider:
    class: Drupal\sdss_profile\Config\ConfigOverrides
    arguments: ['@state', '@config.factory']
    tags:
      - {name: config.factory.override, priority: -5}
  sdss_profile.paragraph_restrictions_subscriber:
    class: 'Drupal\sdss_profile\EventSubscriber\ParagraphRestrictionsSubscriber'
    arguments:
      - '@plugin.manager.core.layout'
      - '@entity_type.manager'
      - '@config.factory'
      - '@path_alias.manager'
    tags:
      - { name: event_subscriber }
