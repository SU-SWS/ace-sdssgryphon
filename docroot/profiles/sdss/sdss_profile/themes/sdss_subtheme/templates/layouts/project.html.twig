{#
  /**
   * Default project layout.
   */
#}

{# Add a few classes to the outer wrapper by default. #}
{% set attributes = attributes.addClass('jumpstart-ui--one-column', settings.centered, settings.extra_classes) %}

{# Pull out the main attributes so they are easier to work with. #}
{% set main_attributes = region_attributes.main %}
{% set main_attributes = main_attributes.addClass('main-region') %}

{# Configuration for the main attributes. #}
{% if 'centered-container' in settings.centered|render and main_attributes is iterable %}
  {% set main_attributes = main_attributes.addClass('flex-12-of-12') %}
{% endif %}

{# If max width has been set allow it to override the centered option. #}
{% if settings.columns|render is not empty and settings.columns != "default" %}
  {% if region_attributes.main is iterable %}
    {% set main_attributes = main_attributes.removeClass('flex-12-of-12').addClass(settings.columns) %}
    {% set attributes = attributes.addClass('centered-content') %}
  {% endif %}
{% endif %}

<section class="node basic-page node--layout-full su-project">
  <div class="content">
    <div class="jumpstart-ui--one-column centered-container">
      <div class="main-region flex-12-of-12">
        <div class="field-block node-stanford-page-title block-layout-builder">
          <div class="node stanford-page title string label-hidden"><h1>{{ node.title.value }}</h1></div>
        </div>

        <div class="field-block node-stanford-page-su-page-components block-layout-builder">
          <div class="node stanford-page su-page-components entity-reference-revisions label-hidden">
              <div class="paragraph-item ptype-stanford-layout">
                <div class="ptype-stanford-layout paragraph paragraph--type--stanford-layout paragraph--view-mode--default">
                  <div class="layout layout--layout-paragraphs-one-column layout--layout-paragraphs-sdss-one-column">
                    <div class="layout__region layout__region--main">
                      <div class="ptype-stanford-wysiwyg paragraph paragraph--type--stanford-wysiwyg paragraph--view-mode--default">
                        <div class="su-wysiwyg-text paragraph stanford-wysiwyg text-long label-hidden">
                          <h4>{{ node.su_featured_flagship.entity.label }} Flagship</h4>
                          {% if node.su_stanford_users is not empty %}<p>Team: 
                            {% for item in node.su_stanford_users %}
                              <a href="{{ render_var(item.url) }}" class="ext su-link--external" data-extlink="" title="(opens in a new window)">
                                {{ item.title }}
                              </a>{% if not loop.last %}, {% endif %}
                            {% endfor %}
                          </p>{% endif %}
                          <figure class="align-left caption">
                            <div class="media-entity-wrapper image">
                              <div class="media image field-media-image label-hidden">
                                {% set image_url = file_url(node.su_featured_image.entity.field_media_image.entity.uri.value) %}
                                <img loading="lazy" src="{{ image_url }}" alt="{{ node.su_featured_image.entity.field_media_image.alt }}">
                              </div>
                            </div>
                            <figcaption>{{ node.su_featured_image_caption.value }}</figcaption>
                          </figure>
                          {{ node.su_description.processed|raw }}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{{ content.su_project_content }}

<div{{ attributes }}>
    <div {{ main_attributes }}>
      {{ content.main }}
    </div>
</div>
